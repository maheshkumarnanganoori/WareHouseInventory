<!DOCTYPE html>
<html>
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css"
	rel="stylesheet">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
	integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
	crossorigin="anonymous"></script>
<title>Document</title>
<style>
 productTable {
      font-family: arial, sans-serif;
      border-collapse: collapse;
      width: 100%;
    }

    td,
    th {
      width: 230px;
      border: 1px solid #dddddd;
      text-align: left;
      padding: 8px;
    }

    th {
      background-color: #dddddd;
    }
</style>
</head>
<script>
/* fetch("http://localhost:8080/InventoryApplication/Login")
.then(response => response.text())
.then(data => {[]
  let rows = data.split("|");
  let table = document.getElementById("productTable");
  for (let i = 1; i < rows.length; i++) {
    if (rows[i].length == 0) {
      continue;
    }
    let cells = rows[i].split(",");
    let row = table.insertRow();
    for (let j = 0; j < cells.length; j++) {
      let cell = row.insertCell();
      cell.innerHTML = cells[j];
    }
  }
}); */
fetch("http://localhost:8080/InventoryApplication/Login")
.then(response => response.text())
.then(data => {
  let rows = data.split("|");
  let table = document.getElementById("productTable");
  for (let i = 1; i < rows.length; i++) {
    if (rows[i].length == 0) {
      continue;
    }
    let cells = rows[i].split(",");
    let row = table.insertRow();
    let checkboxCell = row.insertCell(0);
    let checkbox = document.createElement('input');
    checkbox.type = 'checkbox';
    checkboxCell.appendChild(checkbox);
    for (let j = 0; j < cells.length; j++) {
      let cell = row.insertCell();
      cell.innerHTML = cells[j];
    }
    let requestCell = row.insertCell();
    let requestButton = document.createElement('button');
    requestButton.innerHTML = 'Request';
    requestButton.disabled = true;
    requestCell.appendChild(requestButton);
    
    checkbox.addEventListener('change', function() {
        requestButton.disabled = !this.checked;
      });
    requestButton.onclick = function() {  
    }
  }
});

</script>
<body>
	<div action="Home">
		<h1 class="title">WareHouse Inventory</h1>
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<div class="container-fluid">
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item"><a class="nav-link active"
							aria-current="page" href="#">Home</a></li>
						<li class="nav-item"><a class="nav-link" href="#">Requests</a>
						</li>
						<li class="nav-item"><a class="nav-link" href="#">Orders</a>
						</li>
						<li class="nav-item dropdown"><a
							class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
							role="button" data-bs-toggle="dropdown" aria-expanded="false">Profile</a>
							<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
								<li><a class="dropdown-item" href="#">Account</a></li>
								<li><a class="dropdown-item" href="workerCheckIN.html">Worker</a>
								</li>
								<li><a class="dropdown-item" href="#">LogOut</a></li>
							</ul></li>
					</ul>
					<form class="d-flex">
						<input class="form-control me-2" type="search"
							placeholder="Search" aria-label="Search">
						<button class="btn btn-outline-success" type="submit">Search</button>
					</form>
				</div>
			</div>
		</nav>
	</div>
	<div id="details">
		<table id="productTable">
			<tr>
				<th>Select</th>
				<th>UPC</th>
				<th>Product ID</th>
				<th>Product Name</th>
				<th>Quantity</th>
				<th>Order Request</th>
			</tr>
		</table>
	</div>
</body>
</html>